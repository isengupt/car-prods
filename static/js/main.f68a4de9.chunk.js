(this["webpackJsonpcar-prods"]=this["webpackJsonpcar-prods"]||[]).push([[0],{27:function(e,t,n){},47:function(e,t){},49:function(e,t){},61:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n(0),r=n.n(a),s=n(33),c=n.n(s),o=(n(27),n(15)),l=n(18),u=n(14),m=n(34),d=n(17),f=n.n(d),p=n(35),h=n.n(p),j=n(5),g=n(11),v=n(6),b=n(7),x=n(8),O=n(9),y=n(65),w=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(e){var i;return Object(j.a)(this,n),(i=t.call(this,e)).initiate=function(e){var t=[],n=Object(v.a)(i);i.images.forEach((function(e,i){console.log(e);var a=new Promise((function(t){console.log(n.state.textures),n.state.textures[i]=(new O.TextureLoader).load(e,t),n.state.textures[i].name=e.substring(0,e.length-4)}));t.push(a)})),Promise.all(t).then((function(){e()}))},i.setupResize=function(){window.addEventListener("resize",i.resize)},i.settings=function(){Object(v.a)(i);console.log("settings"),Object.keys(i.uniforms).forEach((function(e){i.settings[e]=i.uniforms[e].value,i.debug&&i.gui.add(i.settings,e,i.uniforms[e].min,i.uniforms[e].max,.01)}))},i.addObjects=function(){Object(v.a)(i);i.material=new O.ShaderMaterial({side:O.DoubleSide,uniforms:{time:{type:"f",value:0},progress:{type:"f",value:0},border:{type:"f",value:0},intensity:{value:.3,type:"f",min:0,max:2},scaleX:{type:"f",value:40},scaleY:{type:"f",value:40},transition:{type:"f",value:40},swipe:{type:"f",value:0},width:{type:"f",value:0},radius:{type:"f",value:0},texture1:{type:"f",value:i.state.textures[0]},texture2:{type:"f",value:i.state.textures[1]},displacement:{type:"f",value:(new O.TextureLoader).load("img/disp1.jpg")},resolution:{type:"v4",value:new O.Vector4}},vertexShader:i.vertex,fragmentShader:i.fragment}),i.geometry=new O.PlaneGeometry(1,1,2,2),i.plane=new O.Mesh(i.geometry,i.material),i.scene.add(i.plane)},i.resize=function(){var e,t;i.width=i.container.offsetWidth,i.height=i.container.offsetHeight,i.renderer.setSize(i.width,i.height),i.camera.aspect=i.width/i.height,i.imageAspect=i.state.textures[0].image.height/i.state.textures[0].image.width,i.height/i.width>i.imageAspect?(e=i.width/i.height*i.imageAspect,t=1):(e=1,t=i.height/i.width/i.imageAspect),i.material.uniforms.resolution.value.x=i.width,i.material.uniforms.resolution.value.y=i.height,i.material.uniforms.resolution.value.z=e,i.material.uniforms.resolution.value.w=t;var n=i.camera.position.z;i.camera.fov=180/Math.PI*2*Math.atan(1/(2*n)),i.plane.scale.x=i.camera.aspect,i.plane.scale.y=1,i.camera.updateProjectionMatrix()},i.stop=function(){i.setState({paused:!0})},i.play=function(){i.setState({paused:!1}),i.renderTransition()},i.clickEvent=function(){i.clicker.addEventListener("click",(function(){console.log("hello"),i.next()}))},i.renderTransition=function(){if(!i.state.paused){var e=i.state.time;e+=.05,i.setState({time:e}),i.material.uniforms.time.value=i.time,Object.keys(i.uniforms).forEach((function(e){i.material.uniforms[e].value=i.settings[e]})),requestAnimationFrame(i.renderTransition.bind(Object(v.a)(i))),i.renderer.render(i.scene,i.camera)}},i.state={time:0,paused:!0,textures:[],fragmentValue:"\nuniform float time;\nuniform float progress;\nuniform float width;\nuniform float scaleX;\nuniform float scaleY;\nuniform float transition;\nuniform float radius;\nuniform float intensity;\nuniform sampler2D texture1;\nuniform sampler2D texture2;\nuniform sampler2D displacement;\nuniform vec4 resolution;\nvarying vec2 vUv;\nvoid main()\t{\n  vec2 newUV = (vUv - vec2(0.5))*resolution.zw + vec2(0.5);\n     vec4 d1 = texture2D(texture1, newUV);\n     vec4 d2 = texture2D(texture2, newUV);\n     float displace1 = (d1.r + d1.g + d1.b)*0.33;\n     float displace2 = (d2.r + d2.g + d2.b)*0.33;\n     \n     vec4 t1 = texture2D(texture1, vec2(newUV.x, newUV.y + progress * (displace2 * intensity)));\n     vec4 t2 = texture2D(texture2, vec2(newUV.x, newUV.y + (1.0 - progress) * (displace1 * intensity)));\n     gl_FragColor = mix(t1, t2, progress);\n}\n",current:0,isRunning:!1},i}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.scene=new O.Scene,this.camera=new O.PerspectiveCamera(70,window.innerWidth/window.innerHeight,.001,1e3),this.vertex="varying vec2 vUv;void main() {vUv = uv;gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );}",this.fragment=this.state.fragmentValue,this.uniforms={width:{value:.5,type:"f",min:0,max:10},scaleX:{value:40,type:"f",min:.1,max:60},scaleY:{value:40,type:"f",min:.1,max:60}},this.renderer=new O.WebGLRenderer,this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(15658734,1),this.duration=1,this.debug=!1,this.easing="easeInOut",this.clicker=document.getElementById("menu-wrapper"),this.container=document.getElementById("slider"),this.images=JSON.parse(this.container.getAttribute("data-images")),this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.container.appendChild(this.renderer.domElement),this.camera.position.set(0,0,2),this.initiate((function(){console.log(e.state.textures),e.setupResize(),e.settings(),e.addObjects(),e.resize(),e.clickEvent(),e.play()}))}},{key:"next",value:function(){var e=this;if(!this.state.isRunning){this.isRunning=!0;var t=this.state.textures.length,n=this.state.textures[(this.state.current+1)%t];this.material.uniforms.texture2.value=n,(new y.a).to(this.material.uniforms.progress,this.duration,{value:1,ease:"easeOut",onComplete:function(){console.log("FINISH"),e.setState({current:(e.state.current+1)%t}),e.material.uniforms.texture1.value=n,e.material.uniforms.progress.value=0,e.setState({isRunning:!1})}})}}},{key:"render",value:function(){return Object(i.jsx)(a.Fragment,{children:Object(i.jsxs)("main",{className:"background",children:[Object(i.jsx)("div",{className:"frame"}),Object(i.jsx)("div",{id:"content",className:"content",children:Object(i.jsx)("div",{id:"slider","data-images":'["https://i.imgur.com/AmWThvw.jpg","https://i.imgur.com/SX8n9kc.jpeg","https://i.imgur.com/tYPQKZJ.jpeg"]',"data-displacement":""})})]})})}}]),n}(a.Component),N=n(13),M=n(38),S=["Lorem ipsum dolor","Quisque vel odio vulputate","Etiam quis justo maximus","Vivamus vulputate leo venenatis"],_=[["Mercedes Benz G550 4X4","Off-roading power ready for a safari or for the red carpet"],["Dodge Charger","Famous on and off the screen, this Charger comes with a 5 speed Tremec transmission Tk06 and..."],["Porsche GT3 RS","This 'mean, green, machine' is the most powerful road-legal 911. Don't blink."]],C=["About","Car","Collection","About","Car","Collection"],E=n(66),k=n(67),F=n(68),T=n(69),R=n(22),D=n(16),I=n(29),P=[[n.p+"static/media/Img23.9f768513.jpg",n.p+"static/media/Img24.87e27055.jpg",n.p+"static/media/4.dbbe511c.png",.2]],z=new R.c;function V(e){var t=e.url1,n=e.url2,r=e.disp,s=e.intensity,c=e.hovered,o=Object(I.b)({progress:c?1:0}).progress,l=Object(D.e)().invalidate,u=Object(a.useMemo)((function(){var e=z.load(t,l),i=z.load(n,l),a=z.load(r,l);return a.wrapS=a.wrapT=R.b,e.magFilter=i.magFilter=R.a,e.minFilter=i.minFilter=R.a,{uniforms:{effectFactor:{type:"f",value:s},dispFactor:{type:"f",value:0},texture:{type:"t",value:e},texture2:{type:"t",value:i},disp:{type:"t",value:a}},vertexShader:"\n    varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n    }\n  ",fragmentShader:"\n  varying vec2 vUv;\n  uniform sampler2D texture;\n  uniform sampler2D texture2;\n  uniform sampler2D disp;\n  uniform float _rot;\n  uniform float dispFactor;\n  uniform float effectFactor;\n\n   vec2 rotate(vec2 v, float a) {\n    float s = sin(a);\n    float c = cos(a);\n    mat2 m = mat2(c, -s, s, c);\n    return m * v;\n   }\n\n  void main() {\n\n    vec2 uv = vUv;\n\n    vec4 disp = texture2D(disp, uv);\n\n    vec2 distortedPosition = vec2(uv.x + dispFactor * (disp.r*effectFactor), uv.y);\n    vec2 distortedPosition2 = vec2(uv.x - (1.0 - dispFactor) * (disp.r*effectFactor), uv.y);\n\n    vec4 _texture = texture2D(texture, distortedPosition);\n    vec4 _texture2 = texture2D(texture2, distortedPosition2);\n\n    vec4 finalTexture = mix(_texture, _texture2, dispFactor);\n\n    gl_FragColor = finalTexture;\n  }\n"}}),[t,n,r,s,l]);return Object(i.jsxs)("mesh",{children:[Object(i.jsx)("planeBufferGeometry",{name:"geometry",args:[8,8]}),Object(i.jsx)(I.a.shaderMaterial,{name:"material",args:[u],"uniforms-dispFactor-value":o})]})}function L(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],s=n[1],c=Object(a.useCallback)((function(){return s(!0)}),[]),l=Object(a.useCallback)((function(){return s(!1)}),[]);return Object(i.jsx)("div",{className:"item",onMouseEnter:c,onMouseLeave:l,onTouchStart:c,onTouchEnd:l,onTouchCancel:l,children:Object(i.jsx)(D.a,{className:"canvas",invalidateFrameloop:!0,props:{antialias:!1,stencil:!1},children:Object(i.jsx)(V,Object(o.a)(Object(o.a)({},e),{},{hovered:r}))})})}var U=function(){return Object(i.jsx)("div",{className:"grid",children:P.map((function(e,t){var n=Object(u.a)(e,4),a=n[0],r=n[1],s=n[2],c=n[3];return Object(i.jsx)(L,{url1:a,url2:r,disp:s,intensity:c},t)}))})},W=n.p+"static/media/img1.70a494a4.jpg",B=n.p+"static/media/img2.e6cd24c4.jpg",X=n.p+"static/media/img3.532b376b.jpg",Y=n.p+"static/media/img4.76321957.jpg";function A(){var e=Object(m.a)(['\n  box-sizing: border-box;\n  cursor: pointer;\n  fontfamily: "Helvetica";\n  padding: "2rem";\n  fontsize: "30px";\n\n  transition: color 0.2s;\n  :hover {\n    color: blue;\n  }\n  :last-child {\n    border-bottom: none;\n  }\n']);return A=function(){return e},e}var H=Object(M.a)(N.a.div)(A());H.defaultProps={bg:"#fff"};var G=function(e){var t=e.magnetIn,n=e.magnetOut,a=e.setRightMenuVisible,r=e.rightMenuVisible;return Object(i.jsxs)("div",{className:"sidebar-items",children:[Object(i.jsxs)("div",{className:"menu-container",children:[Object(i.jsx)("input",{type:"checkbox",class:"menu-btn",id:"menu-btn",onMouseEnter:t,onMouseLeave:n}),Object(i.jsx)("label",{for:"menu-btn",class:"menu-icon",onMouseEnter:t,onMouseLeave:n,onClick:function(){return a(!r)},children:Object(i.jsx)("span",{class:"navicon"})})]}),Object(i.jsx)("div",{className:"current-item",children:"MENU"}),Object(i.jsxs)("div",{className:"arrow-containers",children:[Object(i.jsx)("button",{id:"menu-wrapper",className:"menu-wrapper",onMouseEnter:t,onMouseLeave:n,children:Object(i.jsx)("a",{href:"#",class:"link",children:Object(i.jsx)(E.a,{className:"big_svg"})})}),Object(i.jsx)("button",{id:"menu-wrapper",className:"menu-wrapper",onMouseEnter:t,onMouseLeave:n,children:Object(i.jsx)("a",{href:"#",class:"link",children:Object(i.jsx)(k.a,{className:"big_svg"})})})]})]})};function J(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=1e3,s=1e3,c=1e3,m=1e3,d=Object(a.useState)(!1),p=Object(u.a)(d,2),j=p[0],g=p[1],v=Object(a.useState)([-100,-100]),b=Object(u.a)(v,2),x=Object(u.a)(b[0],2),O=x[0],y=x[1],M=b[1],E=Object(a.useState)(!1),k=Object(u.a)(E,2),R=k[0],D=k[1],I=Object(a.useState)(0),P=Object(u.a)(I,2),z=P[0],V=(P[1],Object(a.useState)(null)),L=Object(u.a)(V,2),A=L[0],J=L[1],q=function(e){g(!0);var t=e.currentTarget.getBoundingClientRect();M([Math.round(t.left+t.width/2),Math.round(t.top+t.height/2)])},Q=function(){g(!1)};Object(a.useEffect)((function(){e.current.style.left="-100px",e.current.style.top="-100px",t.current.width=window.innerWidth,t.current.height=window.innerHeight,function(){f.a.setup(t.current);var e=new f.a.Path.RegularPolygon(new f.a.Point(0,0),8,15);e.strokeColor="rgb(128,198,56)",e.strokeWidth=1;var i=75,a=!1,r=e.segments.map((function(){return new h.a})),o=[],l=new f.a.Group([e]);l.applyMatrix=!1;var u=function(e,t,n){return(1-n)*e+n*t},d=function(e,t,n,i,a){return(e-t)*(a-i)/(n-t)+i};f.a.view.onFrame=function(t){j?j&&(n=u(n,O,.2),s=u(s,y,.2),l.position=new f.a.Point(n,s)):(n=u(n,c,.2),s=u(s,m,.2),l.position=new f.a.Point(n,s)),j&&e.bounds.width<i?e.scale(1.08):!j&&e.bounds.width>30&&(a&&(e.segments.forEach((function(e,t){e.point.set(o[t][0],o[t][1])})),a=!1,o=[]),e.scale(.92)),j&&e.bounds.width>=i&&(a=!0,0===o.length&&e.segments.forEach((function(e,t){o[t]=[e.point.x,e.point.y]})),e.segments.forEach((function(e,n){var i=r[n].noise2D(t.count/150,0),a=r[n].noise2D(t.count/150,1),s=d(i,-1,1,-4,4),c=d(a,-1,1,-4,4),l=o[n][0]+s,u=o[n][1]+c;e.point.set(l,u)}))),e.smooth()}}()}));var K=Object(a.useState)(!1),Z=Object(u.a)(K,2),$=Z[0],ee=Z[1];Object(a.useEffect)((function(){J(_[z])}),[z]);var te=Object(a.useState)(!0),ne=Object(u.a)(te,2),ie=ne[0],ae=(ne[1],Object(N.c)({opacity:$?1:0,transform:$?"translateX(0)":"translateX(100%)"})),re=r.a.useRef(),se=100,ce=Object(N.d)(S.length,S.map((function(e,t){return{ref:re,item:e,delay:$?t*se:S.length*se-t*se,opacity:$?1:0,x:$?"0%":"20%",from:{opacity:0,x:"20%"}}}))),oe=r.a.useRef(),le=Object(N.d)(A?A.length:2,A?A.map((function(e,t){return{ref:oe,item:e,delay:$?t*se:_[0].length*se-t*se,opacity:$?0:1,y:$?"20%":"0%",from:{opacity:1,y:"0%"}}})):_[0].map((function(e,t){return{ref:oe,item:e,delay:$?_[0].length*se-t*se:t*se,opacity:$?0:1,y:$?"20%":"0%",from:{opacity:1,y:"0%"}}}))),ue=Object(N.d)(C.length,C.map((function(e,t){return{item:e,delay:R?t*se:C.length*se-t*se,opacity:R?1:0,y:R?"0%":"20%",from:{opacity:0,y:"20%"}}}))),me=Object(N.c)({transform:R?"translateY(0)":"translateY(-100%)",opacity:R?1:0});r.a.useEffect((function(){console.log($),ee(!1)}),[]);var de=r.a.useRef(),fe=Object(N.c)({ref:de,iconTransform:ie?"rotate(0deg)":"rotate(-45deg)",height:$?"".concat(60*S.length,"px"):"0px",from:{iconTransform:"rotate(-45deg)",height:"0px"}});fe.background,fe.iconTransform,Object(l.a)(fe,["background","iconTransform"]);return Object(N.b)([re,oe],$?[.75,0]:[.25,.25]),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{onMouseMove:function(t){c=t.clientX,m=t.clientY,e.current.style.left="".concat(c-2.5,"px"),e.current.style.top="".concat(m-2.5,"px")},className:"container",children:[Object(i.jsx)("div",{ref:e,className:"cursor cursor--small"}),Object(i.jsx)("canvas",{ref:t,className:"cursor cursor--canvas"}),Object(i.jsx)(w,{}),Object(i.jsxs)("div",{className:"main-content",style:{width:"100%",height:"100%",position:"relative"},children:[Object(i.jsxs)("div",{className:"main-navbar",children:[Object(i.jsx)("a",{href:"#",class:"btn effect-1",children:"IS"}),Object(i.jsxs)("div",{onMouseEnter:q,onMouseLeave:Q,onClick:function(){return D(!R)},className:"collections__item",children:[Object(i.jsxs)("span",{children:[" ",Object(i.jsx)(F.a,{})]}),"Our Collection"]})]}),Object(i.jsxs)("div",{className:"main-info",children:[[le[0]].map((function(e,t){var n=e.y,a=Object(l.a)(e,["y"]);return Object(i.jsx)(N.a.div,{style:Object(o.a)({paddingBottom:"1rem",fontSize:"62px",fontWeight:"bold",fontFamily:"Castoro",transform:n.interpolate((function(e){return"translateY(".concat(e,")")}))},a),children:a.item?a.item:"Car Info Name"},t)})),[le[1]].map((function(e,t){var n=e.y,a=Object(l.a)(e,["y"]);return Object(i.jsx)(N.a.div,{style:Object(o.a)({paddingBottom:"1rem",fontSize:"16px",fontFamily:"Helvetica",transform:n.interpolate((function(e){return"translateY(".concat(e,")")}))},a),children:a.item?a.item:"Car Info Name"},t)})),[le[1]].map((function(e,t){var n=e.y,a=Object(l.a)(e,["y"]);return Object(i.jsx)(N.a.div,{style:Object(o.a)({paddingBottom:"1rem",letterSpacing:"2",fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",fontFamily:"Montserrat",transform:n.interpolate((function(e){return"translateY(".concat(e,")")}))},a),children:"MORE"},t)}))]}),Object(i.jsx)("div",{className:"main-footer",children:Object(i.jsxs)("span",{children:[" ",Object(i.jsx)(T.a,{})]})}),Object(i.jsxs)(N.a.div,{className:"big__menu menu--full",style:me,children:[Object(i.jsx)("div",{style:{height:"100%",width:"100%",overflow:"hidden",display:"flex",marginLeft:"2rem",marginTop:"2rem",flexDirection:"column",justifyContent:"center"},children:ue.map((function(e,t){var n=e.y,a=Object(l.a)(e,["y"]);return Object(i.jsx)(H,{style:Object(o.a)({padding:"1rem",fontSize:"32px",fontFamily:"Castoro",transform:n.interpolate((function(e){return"translateX(".concat(e,")")}))},a),magnetIn:q,magnetOut:Q,children:a.item},t)}))}),Object(i.jsxs)("div",{className:"newsletter__container",children:[Object(i.jsxs)("div",{className:"newsletter__images",children:[Object(i.jsx)("img",{className:"newsletter__image",src:W,alt:"img1"}),Object(i.jsx)("img",{className:"newsletter__image",src:B,alt:"img2"}),Object(i.jsx)("img",{className:"newsletter__image",src:X,alt:"img3"}),Object(i.jsx)("img",{className:"newsletter__image active",src:Y,alt:"img4"})]}),Object(i.jsxs)("div",{className:"newsletter__clicker",children:[Object(i.jsx)("div",{className:"newsletter__circle",magnetIn:q,magnetOut:Q}),Object(i.jsx)("div",{className:"newsletter__circle",magnetIn:q,magnetOut:Q}),Object(i.jsx)("div",{className:" active newsletter__circle",magnetIn:q,magnetOut:Q})]}),Object(i.jsx)("div",{className:"newsletter__footer",children:Object(i.jsx)("input",{placeholder:"NEWSLETTER",className:"newsletter__input",type:"text",id:"lname",name:"lname"})})]})]}),Object(i.jsxs)(N.a.div,{className:"menu menu--right",style:ae,children:[Object(i.jsx)("div",{className:"menu--image",children:Object(i.jsx)(U,{})}),Object(i.jsxs)("div",{style:{height:"100vh",width:"100%",overflow:"hidden",display:"grid",gridTemplateRows:"1fr 50px",background:"#fff",padding:"2rem",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},children:[Object(i.jsx)("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},children:ce.map((function(e,t){var n=e.x,a=Object(l.a)(e,["x"]);return Object(i.jsx)(H,{style:Object(o.a)({fontSize:"36px",paddingTop:"2rem",paddingBottom:"2rem",paddingLeft:"1rem",fontFamily:"Castoro",transform:n.interpolate((function(e){return"translateX(".concat(e,")")}))},a),magnetIn:q,magnetOut:Q,children:a.item},t)}))}),Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"100%",paddingBottom:"1rem",letterSpacing:"2",fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",fontFamily:"Montserrat",alignItems:"center",justifyContent:"flex-start"},children:[Object(i.jsx)("div",{style:{paddingLeft:"1rem",marginRight:"2rem"},children:"Hello"}),Object(i.jsx)("div",{style:{marginRight:"2rem"},children:"Goodbye"})]})]})]})]}),Object(i.jsx)("div",{className:"sidebar",children:Object(i.jsx)(G,{magnetIn:q,magnetOut:Q,setRightMenuVisible:ee,rightMenuVisible:$})})]})})}function q(){return Object(i.jsx)(J,{})}c.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(q,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.f68a4de9.chunk.js.map